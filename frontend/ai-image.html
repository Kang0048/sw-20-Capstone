<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>문자 뿌리오</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="styles.css" rel="stylesheet">
</head>

<body>
    <nav class="navbar navbar-expand-lg bg-body-tertiary ">

        <a class="navbar-brand" href="#">뿌리오</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                <li class="nav-item">
                    <a class="nav-link" href="ai-image.html">이미지 생성 문자</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="weather.html">쇼핑몰(광고)</a>
                </li>
            </ul>
        </div>
    </nav>
    <div class="main-container container-fluid my-4">
        <div class="row">
            <!-- Left Column -->
            <div class="col-lg-6">
                <div class="input-group-custom mb-4">
                    <h6 class="fw-bold mb-3">메시지 입력</h6>
                    <input type="text" class="form-control mb-3" placeholder="제목을 입력해주세요. (최대30byte, 발송관리용)">
                    <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#messageModal">
                        AI 자동생성
                    </button>

                    <div class="textarea-container mb-3">
                        <textarea class="form-control" placeholder="내용을 입력해주세요." rows="4"></textarea>
                        <span class="byte-counter">0/200byte</span>
                    </div>
                </div>

                <div class="input-group-custom mb-4">
                    <h6 class="fw-bold mb-3">이미지 추가</h6>
                    <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#imageModal">
                        AI 이미지 생성 </button>
                    <div class="border border-secondary rounded d-flex align-items-center justify-content-center"
                        style="cursor: pointer; overflow: hidden;" id="imageUploadContainer">
                        <span class="text-muted fs-3" id="uploadIcon">+</span>
                        <input type="file" id="imageInput" style="display: none;" accept="image/*">
                    </div>
                </div>
            </div>

            <!-- Right Column -->
            <div class="col-lg-6">
                <div class="input-group-custom mb-4">
                    <h6 class="fw-bold mb-3">발신번호 설정</h6>
                    <div class="d-flex justify-content-between align-items-center">
                        <span class="text-muted" id="displayPhoneNumber">기본 설정된 발신번호가 없습니다.</span>
                        <button type="button" class="btn btn-outline-secondary" data-bs-toggle="modal"
                            data-bs-target="#PhoneModal">
                            발신번호 등록
                        </button>
                    </div>
                </div>

                <div class="input-group-custom mb-4">
                    <h6 class="fw-bold mb-3">수신번호 입력</h6>
                    <div class="d-flex gap-3">
                        <textarea class="form-control" id="phoneInput" placeholder="휴대폰 번호를 줄바꿈으로 구분하여 입력 후 번호추가"
                            rows="4"></textarea>
                        <div class="d-flex flex-column justify-content-between">
                            <button type="button" class="btn btn-primary mb-2" id="addPhoneButton">번호추가</button>

                            <!-- 받는 사람 목록 -->
                            <div id="recipientList"
                                class="border border-secondary rounded d-flex align-items-center justify-content-center flex-column p-2"
                                style="height: 150px; overflow-y: auto;">
                                <span class="text-muted" id="placeholderText">받는사람</span>
                            </div>
                        </div>
                    </div>

                    <!-- 총 인원 표시 영역 -->
                    <div class="text-end text-muted mt-2" id="totalCount">전체 0명</div>
                    <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#sendModal">
                        발송하기
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- 이미지 생성창 -->
    <div class="modal fade" id="imageModal" tabindex="-1" aria-labelledby="imageModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="imageModalLabel">AI 이미지 생성</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <!-- Left Column -->
                        <div class="col-lg-8">
                            <div class="input-group-custom mb-4">
                                <h6 class="section-title mb-3">발송 목적 및 내용</h6>
                                <textarea class="form-control mb-2" placeholder="발송 목적 및 내용을 입력하세요."
                                    rows="4"></textarea>
                                <div class="text-end byte-counter mb-3">0/200byte</div>

                                <h6 class="section-title mb-3">중요 키워드 (선택)</h6>
                                <p class="text-muted">* 키워드 1개 입력 후 Enter를 누르세요. (최대 3개 입력 가능)</p>
                                <div class="d-flex mb-3">
                                    <input type="text" class="form-control me-2"
                                        placeholder="입력한 키워드가 생성결과에 포함될 확률이 높아집니다.">
                                    <button class="btn btn-outline-secondary">추가</button>
                                </div>

                            </div>

                            <div class="input-group-custom">
                                <h6 class="section-title mb-3">AI 자동 생성</h6>
                                <p class="text-muted">AI가 입력된 발송 목적 및 내용에 적합한 이미지를 생성합니다.</p>
                                <button class="btn btn-custom w-100">이미지 생성</button>
                            </div>
                        </div>

                        <!-- Right Column -->
                        <div class="col-lg-4">
                            <div class="input-group-custom h-100">
                                <h6 class="section-title mb-3">생성 결과</h6>
                                <div class="row g-3">
                                    <div class="col-6">
                                        <div class="image-result-box" id="imageBox1">+</div>
                                    </div>
                                    <div class="col-6">
                                        <div class="image-result-box" id="imageBox2">+</div>
                                    </div>
                                    <div class="col-6">
                                        <div class="image-result-box" id="imageBox3">+</div>
                                    </div>
                                    <div class="col-6">
                                        <div class="image-result-box" id="imageBox4">+</div>
                                    </div>
                                </div>
                                <button class="btn btn-secondary w-100 mt-4" onclick="generateImages()">확정</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">닫기</button>
                </div>
            </div>
        </div>
    </div>

    <!-- AI 텍스트 생성 창 -->
    <div class="modal fade" id="messageModal" tabindex="-1" aria-labelledby="imageModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content" style="height: 90vh;">
                <div class="modal-header">
                    <h5 class="modal-title" id="imageModalLabel">AI 자동 생성</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <!-- Left Section -->
                    <div class="input-section">
                        <h6 class="section-title">발송 목적 및 내용</h6>
                        <textarea class="form-control mb-2" placeholder="발송 목적 및 내용을 입력하세요." rows="4"></textarea>
                        <div class="text-end byte-counter">0/200byte</div>

                        <h6 class="section-title mt-4">중요 키워드 (선택)</h6>
                        <p class="text-muted mb-2">* 키워드 1개 입력 후 Enter를 누르세요. (최대 3개 입력 가능)</p>
                        <div class="d-flex mb-3">
                            <input type="text" class="form-control me-2" placeholder="입력한 키워드가 생성결과에 포함될 확률이 높아집니다.">
                            <button class="btn btn-outline-secondary">추가</button>
                        </div>
                        <div class="text-end byte-counter">0/20byte</div>

                        <button class="btn btn-custom">AI 자동 생성</button>
                    </div>

                    <!-- Right Section -->
                    <div class="result-section">
                        <h6 class="section-title">생성 결과</h6>
                        <p>생성결과가 없습니다.</p>
                        <button class="confirm-btn">확정</button>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">닫기</button>
                </div>
            </div>
        </div>
    </div>

    <!-- 메세지 전송전 화면 -->
    <div class="modal fade" id="sendModal" tabindex="-1" aria-labelledby="messageModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content" style="height: 90vh;">
                <div class="modal-header">
                    <h5 class="modal-title" id="messageModalLabel">문자 전송 및 이미지 생성</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body container">
                    <div class="row h-100">
                        <!-- Left Column: Display Title and Message Content -->
                        <div class="col-md-6 d-flex flex-column justify-content-start" style="min-width: 550px;">
                            <div class="input-title">제목</div>
                            <div class="display-title mb-3"
                                style="border: 1px solid #ddd; padding: 10px; min-height: 40px;">
                                <!-- 제목 내용이 실시간 표시될 곳 -->
                            </div>
                            <div class="input-title">문자 내용</div>
                            <div class="display-message"
                                style="border: 1px solid #ddd; padding: 10px; height: 70%; overflow-y: auto;">
                                <!-- 문자 내용이 실시간 표시될 곳 -->
                            </div>
                        </div>

                        <!-- Right Column: Image Preview -->
                        <div class="col-md-6 d-flex flex-column justify-content-start" style="min-width: 550px;">
                            <div class="input-title">이미지 예시</div>
                            <div class="image-preview flex-grow-1 d-flex align-items-center justify-content-center"
                                style="border: 1px solid #ddd; min-height: 300px;">
                                <span>이미지 예시</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-send">이미지와 함께 문자 전송</button>
                </div>
            </div>
        </div>
    </div>
    <!-- 발신번호 등록 창 -->
    <div class="modal fade" id="PhoneModal" tabindex="-1" aria-labelledby="PhoneModalLabel" aria-hidden="true">
        <div class="modal-dialog custom-width modal-sm">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="PhoneModalLabel">발신번호 신규 등록</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="p-3 rounded">
                        <!-- 통신사 선택 -->
                        <div class="mb-3">
                            <label for="carrierSelect" class="form-label">통신사</label>
                            <select id="carrierSelect" class="form-select" aria-label="통신사 선택">
                                <option selected>통신사 선택</option>
                                <option value="1">SKT</option>
                                <option value="2">KT</option>
                                <option value="3">LG U+</option>
                            </select>
                        </div>

                        <!-- 발신번호 입력 -->
                        <div class="mb-3">
                            <label for="phoneNumberInput" class="form-label">발신번호</label>
                            <input type="text" class="form-control" id="phoneNumberInput" placeholder="발신번호를 입력해주세요.">
                        </div>

                        <!-- 발신번호 명의자 입력 -->
                        <div class="mb-3">
                            <label for="ownerInput" class="form-label">발신번호 명의자</label>
                            <input type="text" class="form-control" id="ownerInput" placeholder="명의자를 입력해주세요.">
                        </div>
                    </div>
                </div>
                <div class="modal-footer d-flex justify-content-between">
                    <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">닫기</button>
                    <button type="button" class="btn btn-primary" id="registerPhoneNumber">등록</button>
                </div>
            </div>
        </div>
    </div>

    <script src="script-ai-image.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>